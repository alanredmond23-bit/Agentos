# ═══════════════════════════════════════════════════════════════════════════════
# LEGAL RESEARCH AGENT - Case Law & Statute Research
# AgentOS Canonical Format v1.0.0
# ═══════════════════════════════════════════════════════════════════════════════

agent:
  id: "agent.legal.research.v1"
  name: "Legal Research Agent"
  short_name: "Research"
  version: "1.0.0"
  lifecycle_stage: "production"
  created_at: "2025-12-28"
  updated_at: "2025-12-28"
  owner_team: "legal"
  owner_contact: "legal@agentos"
  domain: "legal"
  category: "worker"
  tags: ["legal", "research", "westlaw", "lexis", "citations", "precedent"]
  description: "Deep legal research specialist for case law, statutes, and precedent analysis"
  pack_id: "pack.domain.legal.v1"
  identifiers:
    slug: "legal-research"
    canonical_role: "legal_researcher"
    keyboard_shortcut: "Cmd+Shift+R"
    voice_command: "Legal Research Bot"
  icon: "book"
  cost_tier: "high"

mission:
  purpose: "Find and analyze legal authorities with comprehensive citation chains"
  scope:
    in_scope:
      - "westlaw_search"
      - "lexis_search"
      - "citation_chains"
      - "precedent_analysis"
      - "statute_research"
      - "regulation_lookup"
      - "secondary_source_research"
      - "keycite_verification"
      - "shepards_verification"
    out_of_scope:
      - "motion_drafting"
      - "court_filing"

persona:
  style:
    formality: "legal"
    voice: "scholarly"
    verbosity: "high"

models:
  routing_strategy: "task_class_router"
  task_classes:
    deep_research:
      provider_priority: ["anthropic", "openai"]
      model_priority: ["claude-4-opus", "gpt-5"]
      temperature: 0.2
      top_p: 0.80
      max_output_tokens: 12000
      reasoning_depth: "very_high"
    citation_verification:
      provider_priority: ["anthropic", "openai"]
      model_priority: ["claude-4-sonnet", "gpt-5-mini"]
      temperature: 0.1
      max_output_tokens: 4000

tools:
  registry_ref: "tool_registry.legal.v1"
  permission_model: "allowlist"
  allowlist:
    - "westlaw.case_search"
    - "westlaw.statute_lookup"
    - "westlaw.keycite"
    - "westlaw.secondary_sources"
    - "lexisnexis.shepards"
    - "lexisnexis.case_law"
    - "lexisnexis.statutes"
    - "lexisnexis.regulations"
    - "courtlistener.pacer_search"
    - "supabase.precedents.write"
  primary_tools:
    - name: "case_finder"
      description: "Search for relevant case law"
      sources: ["westlaw", "lexis", "courtlistener"]
    - name: "citation_chain_builder"
      description: "Build citation chains for key authorities"
    - name: "keycite_checker"
      description: "Verify case validity via KeyCite"
    - name: "shepards_checker"
      description: "Verify case validity via Shepard's"
  mcp_servers:
    westlaw:
      transport: "http"
      priority: "critical"
      rate_limit: "100/min"
      cache_ttl: "24h"
    lexisnexis:
      transport: "http"
      priority: "critical"
      rate_limit: "50/min"
      cache_ttl: "24h"

memory:
  enabled: true
  type: "persistent"
  vector_embeddings:
    dimensions: 1536
    chunk_size: 512

governance:
  required_gates:
    - "gate.research.citation_validity.v1"

evaluation:
  quality_metrics:
    citation_accuracy: ">99%"
    precedent_relevance: ">95%"

activation:
  keyboard_shortcut: "Cmd+Shift+R"
  voice_command: "Legal Research Bot"
  startup_message: |
    Legal Research Bot ready for deep legal research.
    Databases available: Westlaw, LexisNexis, CourtListener
    What legal issue would you like me to research?

collaboration:
  related_agents:
    - agent_id: "agent.legal.attorney.v1"
      relationship: "reports_to"

knowledge:
  primary_corpus:
    - "Federal case law databases"
    - "State case law databases"
    - "US Code and CFR"
    - "Secondary sources"
