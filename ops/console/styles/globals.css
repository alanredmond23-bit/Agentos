@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   AgentOS Ops Console - Global Styles
   Fortune 10 Enterprise Dashboard
   ============================================ */

/* ============================================
   CSS Custom Properties (Design Tokens)
   ============================================ */
@layer base {
  :root {
    /* Color System - Light Mode */
    --color-bg-primary: 255 255 255;
    --color-bg-secondary: 248 250 252;
    --color-bg-tertiary: 241 245 249;
    --color-bg-elevated: 255 255 255;
    --color-bg-overlay: 0 0 0;

    --color-border-primary: 226 232 240;
    --color-border-secondary: 203 213 225;
    --color-border-hover: 148 163 184;

    --color-text-primary: 15 23 42;
    --color-text-secondary: 71 85 105;
    --color-text-tertiary: 100 116 139;
    --color-text-muted: 148 163 184;

    --color-brand-primary: 59 130 246;
    --color-brand-secondary: 37 99 235;
    --color-brand-tertiary: 29 78 216;

    --color-accent-success: 16 185 129;
    --color-accent-warning: 245 158 11;
    --color-accent-error: 239 68 68;
    --color-accent-info: 59 130 246;

    /* Spacing */
    --spacing-sidebar: 280px;
    --spacing-header: 64px;
    --spacing-content: 24px;

    /* Transitions */
    --transition-fast: 150ms;
    --transition-base: 200ms;
    --transition-slow: 300ms;
    --transition-slower: 500ms;

    /* Border Radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-2xl: 24px;
    --radius-full: 9999px;

    /* Shadows - Light Mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

    /* Z-Index Scale */
    --z-dropdown: 50;
    --z-sticky: 100;
    --z-fixed: 200;
    --z-modal-backdrop: 300;
    --z-modal: 400;
    --z-popover: 500;
    --z-tooltip: 600;
    --z-toast: 700;
  }

  .dark {
    /* Color System - Dark Mode */
    --color-bg-primary: 10 10 10;
    --color-bg-secondary: 20 20 20;
    --color-bg-tertiary: 26 26 26;
    --color-bg-elevated: 32 32 32;
    --color-bg-overlay: 0 0 0;

    --color-border-primary: 38 38 38;
    --color-border-secondary: 51 51 51;
    --color-border-hover: 64 64 64;

    --color-text-primary: 250 250 250;
    --color-text-secondary: 161 161 170;
    --color-text-tertiary: 113 113 122;
    --color-text-muted: 82 82 91;

    /* Shadows - Dark Mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);
  }
}

/* ============================================
   Base Element Styles
   ============================================ */
@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    @apply antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    text-rendering: optimizeLegibility;
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white dark:bg-dark-bg-primary;
    @apply text-slate-900 dark:text-dark-text-primary;
    @apply font-sans;
    @apply min-h-screen;
    @apply overflow-x-hidden;
    font-size: 14px;
    line-height: 1.5;
  }

  /* Typography */
  h1 {
    @apply text-3xl font-bold tracking-tight;
  }

  h2 {
    @apply text-2xl font-semibold tracking-tight;
  }

  h3 {
    @apply text-xl font-semibold;
  }

  h4 {
    @apply text-lg font-medium;
  }

  h5 {
    @apply text-base font-medium;
  }

  h6 {
    @apply text-sm font-medium;
  }

  /* Links */
  a {
    @apply text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300;
    @apply transition-colors duration-150;
  }

  /* Focus Styles */
  :focus-visible {
    @apply outline-none ring-2 ring-brand-500 ring-offset-2;
    @apply dark:ring-offset-dark-bg-primary;
  }

  /* Selection */
  ::selection {
    @apply bg-brand-500/20 text-brand-900 dark:text-brand-100;
  }

  /* Scrollbars */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 dark:bg-zinc-600;
    @apply rounded-full;
    @apply border-2 border-transparent;
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400 dark:bg-zinc-500;
  }

  /* Firefox Scrollbars */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(203 213 225) transparent;
  }

  .dark * {
    scrollbar-color: rgb(82 82 91) transparent;
  }
}

/* ============================================
   Component Styles
   ============================================ */
@layer components {
  /* Container */
  .container-fluid {
    @apply w-full px-4 sm:px-6 lg:px-8;
    max-width: 1920px;
    margin: 0 auto;
  }

  /* Card Base */
  .card {
    @apply bg-white dark:bg-dark-bg-elevated;
    @apply border border-slate-200 dark:border-dark-border-primary;
    @apply rounded-xl;
    @apply shadow-sm;
    @apply transition-all duration-200;
  }

  .card-hover {
    @apply hover:shadow-md hover:border-slate-300 dark:hover:border-dark-border-hover;
  }

  .card-interactive {
    @apply cursor-pointer;
    @apply hover:shadow-lg hover:-translate-y-0.5;
    @apply active:translate-y-0 active:shadow-md;
  }

  /* Glass Effect */
  .glass {
    @apply bg-white/80 dark:bg-dark-bg-elevated/80;
    @apply backdrop-blur-xl;
    @apply border border-white/20 dark:border-white/10;
  }

  /* Button Base */
  .btn {
    @apply inline-flex items-center justify-center;
    @apply font-medium;
    @apply rounded-lg;
    @apply transition-all duration-150;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm gap-1.5;
  }

  .btn-md {
    @apply px-4 py-2 text-sm gap-2;
  }

  .btn-lg {
    @apply px-6 py-3 text-base gap-2.5;
  }

  .btn-primary {
    @apply bg-brand-600 text-white;
    @apply hover:bg-brand-700;
    @apply focus-visible:ring-brand-500;
    @apply shadow-sm;
  }

  .btn-secondary {
    @apply bg-slate-100 dark:bg-dark-bg-tertiary;
    @apply text-slate-700 dark:text-dark-text-primary;
    @apply border border-slate-200 dark:border-dark-border-primary;
    @apply hover:bg-slate-200 dark:hover:bg-dark-bg-elevated;
    @apply focus-visible:ring-slate-400;
  }

  .btn-ghost {
    @apply text-slate-600 dark:text-dark-text-secondary;
    @apply hover:bg-slate-100 dark:hover:bg-dark-bg-tertiary;
    @apply focus-visible:ring-slate-400;
  }

  .btn-danger {
    @apply bg-red-600 text-white;
    @apply hover:bg-red-700;
    @apply focus-visible:ring-red-500;
  }

  .btn-success {
    @apply bg-emerald-600 text-white;
    @apply hover:bg-emerald-700;
    @apply focus-visible:ring-emerald-500;
  }

  /* Badge Base */
  .badge {
    @apply inline-flex items-center;
    @apply px-2 py-0.5;
    @apply text-xs font-medium;
    @apply rounded-full;
  }

  .badge-primary {
    @apply bg-brand-100 text-brand-700;
    @apply dark:bg-brand-500/20 dark:text-brand-400;
  }

  .badge-success {
    @apply bg-emerald-100 text-emerald-700;
    @apply dark:bg-emerald-500/20 dark:text-emerald-400;
  }

  .badge-warning {
    @apply bg-amber-100 text-amber-700;
    @apply dark:bg-amber-500/20 dark:text-amber-400;
  }

  .badge-error {
    @apply bg-red-100 text-red-700;
    @apply dark:bg-red-500/20 dark:text-red-400;
  }

  .badge-neutral {
    @apply bg-slate-100 text-slate-700;
    @apply dark:bg-zinc-700 dark:text-zinc-300;
  }

  /* Input Base */
  .input {
    @apply w-full;
    @apply px-3 py-2;
    @apply text-sm;
    @apply bg-white dark:bg-dark-bg-tertiary;
    @apply border border-slate-300 dark:border-dark-border-primary;
    @apply rounded-lg;
    @apply placeholder:text-slate-400 dark:placeholder:text-dark-text-muted;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent;
    @apply transition-all duration-150;
  }

  .input-error {
    @apply border-red-500 focus:ring-red-500;
  }

  /* Table Styles */
  .table-container {
    @apply overflow-x-auto;
    @apply rounded-lg border border-slate-200 dark:border-dark-border-primary;
  }

  .table {
    @apply w-full text-sm;
  }

  .table thead {
    @apply bg-slate-50 dark:bg-dark-bg-tertiary;
  }

  .table th {
    @apply px-4 py-3;
    @apply text-left text-xs font-semibold uppercase tracking-wider;
    @apply text-slate-600 dark:text-dark-text-tertiary;
    @apply border-b border-slate-200 dark:border-dark-border-primary;
  }

  .table td {
    @apply px-4 py-4;
    @apply border-b border-slate-100 dark:border-dark-border-primary;
  }

  .table tbody tr {
    @apply hover:bg-slate-50 dark:hover:bg-dark-bg-tertiary;
    @apply transition-colors duration-150;
  }

  .table tbody tr:last-child td {
    @apply border-b-0;
  }

  /* Sidebar Styles */
  .sidebar {
    @apply fixed left-0 top-0 bottom-0;
    @apply w-[var(--spacing-sidebar)];
    @apply bg-white dark:bg-dark-bg-secondary;
    @apply border-r border-slate-200 dark:border-dark-border-primary;
    @apply z-[var(--z-fixed)];
    @apply flex flex-col;
    @apply transition-transform duration-300 ease-out;
  }

  .sidebar-collapsed {
    @apply w-20;
  }

  .sidebar-nav-item {
    @apply flex items-center gap-3;
    @apply px-4 py-2.5;
    @apply text-sm font-medium;
    @apply text-slate-600 dark:text-dark-text-secondary;
    @apply rounded-lg;
    @apply transition-all duration-150;
    @apply cursor-pointer;
  }

  .sidebar-nav-item:hover {
    @apply bg-slate-100 dark:bg-dark-bg-tertiary;
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .sidebar-nav-item.active {
    @apply bg-brand-50 dark:bg-brand-500/10;
    @apply text-brand-600 dark:text-brand-400;
  }

  .sidebar-nav-item.active:hover {
    @apply bg-brand-100 dark:bg-brand-500/20;
  }

  /* Header Styles */
  .header {
    @apply fixed top-0 right-0;
    @apply left-[var(--spacing-sidebar)];
    @apply h-[var(--spacing-header)];
    @apply bg-white/80 dark:bg-dark-bg-primary/80;
    @apply backdrop-blur-xl;
    @apply border-b border-slate-200 dark:border-dark-border-primary;
    @apply z-[var(--z-sticky)];
    @apply flex items-center justify-between;
    @apply px-6;
  }

  /* Main Content Area */
  .main-content {
    @apply ml-[var(--spacing-sidebar)];
    @apply pt-[var(--spacing-header)];
    @apply min-h-screen;
    @apply bg-slate-50 dark:bg-dark-bg-primary;
  }

  .content-wrapper {
    @apply p-6;
    @apply max-w-[1600px];
    @apply mx-auto;
  }

  /* Stats Card */
  .stats-card {
    @apply card p-6;
    @apply flex flex-col;
  }

  .stats-card-value {
    @apply text-3xl font-bold;
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .stats-card-label {
    @apply text-sm text-slate-500 dark:text-dark-text-tertiary;
    @apply mt-1;
  }

  .stats-card-trend {
    @apply flex items-center gap-1 mt-2;
    @apply text-sm font-medium;
  }

  .stats-card-trend.positive {
    @apply text-emerald-600 dark:text-emerald-400;
  }

  .stats-card-trend.negative {
    @apply text-red-600 dark:text-red-400;
  }

  /* Avatar */
  .avatar {
    @apply relative inline-flex items-center justify-center;
    @apply rounded-full;
    @apply bg-slate-200 dark:bg-dark-bg-elevated;
    @apply overflow-hidden;
    @apply flex-shrink-0;
  }

  .avatar-sm {
    @apply w-8 h-8 text-xs;
  }

  .avatar-md {
    @apply w-10 h-10 text-sm;
  }

  .avatar-lg {
    @apply w-12 h-12 text-base;
  }

  .avatar-xl {
    @apply w-16 h-16 text-lg;
  }

  /* Status Indicator */
  .status-dot {
    @apply w-2 h-2 rounded-full;
    @apply flex-shrink-0;
  }

  .status-dot.online {
    @apply bg-emerald-500;
    @apply animate-pulse-subtle;
  }

  .status-dot.offline {
    @apply bg-slate-400 dark:bg-zinc-500;
  }

  .status-dot.busy {
    @apply bg-amber-500;
  }

  .status-dot.error {
    @apply bg-red-500;
  }

  /* Skeleton Loader */
  .skeleton {
    @apply bg-slate-200 dark:bg-zinc-700;
    @apply rounded-md;
    @apply animate-pulse;
  }

  /* Empty State */
  .empty-state {
    @apply flex flex-col items-center justify-center;
    @apply py-16 px-8;
    @apply text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16;
    @apply text-slate-300 dark:text-zinc-600;
    @apply mb-4;
  }

  .empty-state-title {
    @apply text-lg font-medium;
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .empty-state-description {
    @apply text-sm text-slate-500 dark:text-dark-text-tertiary;
    @apply mt-1 max-w-sm;
  }

  /* Dropdown Menu */
  .dropdown-menu {
    @apply absolute z-50;
    @apply min-w-[200px];
    @apply bg-white dark:bg-dark-bg-elevated;
    @apply border border-slate-200 dark:border-dark-border-primary;
    @apply rounded-xl;
    @apply shadow-lg;
    @apply py-1;
    @apply animate-fade-in-down;
  }

  .dropdown-item {
    @apply flex items-center gap-3;
    @apply px-4 py-2.5;
    @apply text-sm;
    @apply text-slate-700 dark:text-dark-text-secondary;
    @apply cursor-pointer;
    @apply transition-colors duration-150;
  }

  .dropdown-item:hover {
    @apply bg-slate-50 dark:bg-dark-bg-tertiary;
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .dropdown-item.danger {
    @apply text-red-600 dark:text-red-400;
  }

  .dropdown-item.danger:hover {
    @apply bg-red-50 dark:bg-red-500/10;
  }

  .dropdown-divider {
    @apply h-px my-1;
    @apply bg-slate-200 dark:bg-dark-border-primary;
  }

  /* Modal */
  .modal-backdrop {
    @apply fixed inset-0;
    @apply bg-black/50;
    @apply backdrop-blur-sm;
    @apply z-[var(--z-modal-backdrop)];
    @apply animate-fade-in;
  }

  .modal {
    @apply fixed;
    @apply top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
    @apply w-full max-w-lg;
    @apply bg-white dark:bg-dark-bg-elevated;
    @apply rounded-2xl;
    @apply shadow-2xl;
    @apply z-[var(--z-modal)];
    @apply animate-scale-in;
  }

  .modal-header {
    @apply flex items-center justify-between;
    @apply px-6 py-4;
    @apply border-b border-slate-200 dark:border-dark-border-primary;
  }

  .modal-body {
    @apply px-6 py-4;
  }

  .modal-footer {
    @apply flex items-center justify-end gap-3;
    @apply px-6 py-4;
    @apply border-t border-slate-200 dark:border-dark-border-primary;
  }

  /* Toast Notification */
  .toast {
    @apply flex items-start gap-3;
    @apply min-w-[320px] max-w-[420px];
    @apply p-4;
    @apply bg-white dark:bg-dark-bg-elevated;
    @apply border border-slate-200 dark:border-dark-border-primary;
    @apply rounded-xl;
    @apply shadow-xl;
    @apply animate-slide-in-right;
  }

  .toast-success {
    @apply border-l-4 border-l-emerald-500;
  }

  .toast-error {
    @apply border-l-4 border-l-red-500;
  }

  .toast-warning {
    @apply border-l-4 border-l-amber-500;
  }

  .toast-info {
    @apply border-l-4 border-l-brand-500;
  }

  /* Tabs */
  .tabs {
    @apply flex items-center gap-1;
    @apply border-b border-slate-200 dark:border-dark-border-primary;
  }

  .tab {
    @apply px-4 py-2.5;
    @apply text-sm font-medium;
    @apply text-slate-600 dark:text-dark-text-secondary;
    @apply border-b-2 border-transparent;
    @apply -mb-px;
    @apply transition-all duration-150;
    @apply cursor-pointer;
  }

  .tab:hover {
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .tab.active {
    @apply text-brand-600 dark:text-brand-400;
    @apply border-brand-500;
  }

  /* Code Block */
  .code-block {
    @apply font-mono text-sm;
    @apply bg-slate-900 dark:bg-black;
    @apply text-slate-100;
    @apply rounded-lg;
    @apply p-4;
    @apply overflow-x-auto;
  }

  .inline-code {
    @apply font-mono text-sm;
    @apply bg-slate-100 dark:bg-dark-bg-tertiary;
    @apply text-pink-600 dark:text-pink-400;
    @apply px-1.5 py-0.5;
    @apply rounded;
  }

  /* Progress Bar */
  .progress-bar {
    @apply h-2 w-full;
    @apply bg-slate-200 dark:bg-dark-bg-tertiary;
    @apply rounded-full;
    @apply overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full;
    @apply bg-brand-500;
    @apply rounded-full;
    @apply transition-all duration-500 ease-out;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute z-[var(--z-tooltip)];
    @apply px-2 py-1;
    @apply text-xs font-medium;
    @apply bg-slate-900 dark:bg-zinc-800;
    @apply text-white;
    @apply rounded-md;
    @apply shadow-lg;
    @apply animate-fade-in;
    @apply pointer-events-none;
  }

  /* Page Header */
  .page-header {
    @apply mb-6;
  }

  .page-title {
    @apply text-2xl font-bold;
    @apply text-slate-900 dark:text-dark-text-primary;
  }

  .page-description {
    @apply text-sm text-slate-500 dark:text-dark-text-tertiary;
    @apply mt-1;
  }

  /* Search */
  .search-input {
    @apply input pl-10;
    @apply bg-slate-100 dark:bg-dark-bg-tertiary;
    @apply border-transparent;
    @apply focus:bg-white dark:focus:bg-dark-bg-elevated;
    @apply focus:border-slate-300 dark:focus:border-dark-border-secondary;
  }

  /* Data Grid */
  .data-grid {
    @apply grid gap-6;
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  /* Divider */
  .divider {
    @apply h-px w-full;
    @apply bg-slate-200 dark:bg-dark-border-primary;
    @apply my-4;
  }

  .divider-vertical {
    @apply w-px h-full;
    @apply bg-slate-200 dark:bg-dark-border-primary;
    @apply mx-4;
  }
}

/* ============================================
   Utility Classes
   ============================================ */
@layer utilities {
  /* Text Gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    @apply bg-gradient-to-r from-brand-500 to-purple-500;
  }

  /* Glow Effects */
  .glow-brand {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
  }

  .glow-success {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
  }

  .glow-error {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
  }

  /* Hide Scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Line Clamp */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Aspect Ratios */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  /* Focus Ring */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2;
    @apply dark:focus-visible:ring-offset-dark-bg-primary;
  }

  /* Safe Area */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Container Query Fallback */
  .container-sm {
    container-type: inline-size;
  }

  /* Debug Outline */
  .debug {
    @apply outline outline-2 outline-red-500;
  }
}

/* ============================================
   Animation Keyframes (extended)
   ============================================ */
@keyframes ping-slow {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* ============================================
   Print Styles
   ============================================ */
@media print {
  .sidebar,
  .header {
    display: none !important;
  }

  .main-content {
    margin-left: 0 !important;
    padding-top: 0 !important;
  }

  .card {
    box-shadow: none !important;
    border: 1px solid #e2e8f0 !important;
  }

  * {
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}

/* ============================================
   Reduced Motion
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
